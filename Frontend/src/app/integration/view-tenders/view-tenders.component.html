<app-integration></app-integration>
<br>
<div id="ViewTenders" class="background">
    <nav id="sidebar">
        <button title="Previous page" class="btn btn-secondary btn-medium"
            style="margin-left: 20%; margin-top: 10%; margin-bottom: 4%; width: 50%;"
            routerLink="/integration/tender">Back</button>
        <div class="sidebar-header">
            <br>
            <h5 style="text-align: center;">Choose tender</h5>
        </div>
        <select style="width:120%;max-width:100%;" name="multipleSelect" id="multipleSelect" multiple
            title="Please select tender" required (change)="selectChangeHandlerId($event)">
            <option *ngFor="let tender of tenders" [value]="tender.idTender">
               {{tender.idTender}}
            </option>
        </select>

        <ul class="list-unstyled CTAs">
            <button (click)="viewOffers()" class="btn btn-secondary btn-medium;" style="margin-left: 20%;">View
                offers</button>
        </ul>
    </nav>

    <ngb-accordion style="width: 35rem; height: 5rem; margin-left: 3%;" *ngFor="let offer of tenderOffers">
        <ngb-panel title= "Tender Offer ID: {{offer.pharmacy}}" >
            <ng-template ngbPanelContent>
                <div class="card-body" id="collapseExample" style="background: #8e8f8f80">
                    <div class="card card-body" *ngFor="let item of offer.tenderOfferItems">
                        <table style="text-align: left;">
                            <tr>
                                <td><label (ngModel)="medicineName"><strong>
                                        Medicine name:
                                    </strong></label></td>&nbsp;
                                <td>
                                    {{item.medicineName}}
                                    
                                </td>
                            </tr>
                            <tr>
                                <td><label (ngModel)="dosageInMilligrams"><strong>
                                        Dosage in milligrams:
                                    </strong></label></td>&nbsp;
                                <td>
                                    {{item.medicineDosage}}
                                </td>
                            </tr>
                            <tr>
                                <td><label (ngModel)="availableQuantity"><strong>
                                        Available quantity:
                                    </strong></label></td>&nbsp;
                                <td>
                                    {{item.availableQuantity}}
                                </td>
                            </tr>
                            <tr>
                                <td><label (ngModel)="missingQuantity"><strong>
                                        Missing quantity:
                                    </strong></label></td>&nbsp;
                                <td>
                                    {{item.missingQuantity}}
                                </td>
                            </tr>
                            <tr>
                                <td><label (ngModel)="priceForSingleEntity"><strong>
                                        Price for single entity:
                                    </strong></label></td>&nbsp;
                                <td>
                                    {{item.priceForSingleEntity}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <label (ngModel)="priceForAllAvailable"  style="text-align: left; margin-top: 2%;" ><strong>
                        Price for all available entities:
                    </strong></label>&nbsp;
                <label style="text-align: left;">
                    {{offer.priceForAllAvailable}}
                </label><br>
                <label (ngModel)="priceForAllRequired" style="text-align: left; margin-top: 2%;"><strong>
                        Price for all required entities:
                    </strong></label>&nbsp;
                <label style="text-align: left;">
                    {{offer.priceForAllRequired}}
                </label><br>
                <label (ngModel)="totalNumberMissingMedicine" style="text-align: left; margin-top: 2%;"><strong>
                        Total number of missing medicine:
                    </strong></label>&nbsp;
                <label style="text-align: left;">
                    {{offer.totalNumberMissingMedicine}}
                </label><br>
                <button (click)="acceptOffer()" class="btn btn-secondary btn-medium" style="background: #66A182; margin-top: 2%;"
                    title="Accept an offer">Accept</button>

            </ng-template>
            <div>
            </div>
        </ngb-panel>
        
    </ngb-accordion>

</div>